<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Code For Fun]]></title>
  <subtitle><![CDATA[I Share, therefore I am]]></subtitle>
  <link href="http://code4fun.cn/atom.xml" rel="self"/>
  <link href="http://code4fun.cn"/>
  <updated>2013-09-28T15:03:08.890Z</updated>
  <id>http://code4fun.cn/</id>
  <author>
    <name><![CDATA[Jerry li]]></name>
    <email><![CDATA[leezhm(at)126.com]]></email>
  </author>
  <generator uri="http://zespia.tw/hexo">Hexo</generator>
  <entry>
    <title type="html"><![CDATA[How to fork a repo from github]]></title>
    <link href="http://code4fun.cn/2013-09-28/how-to-fork-a-repo-from-github/"/>
    <id>http://code4fun.cn/2013-09-28/how-to-fork-a-repo-from-github/</id>
    <published>2013-09-28T14:18:22.000Z</published>
    <updated>2013-09-28T14:47:53.000Z</updated>
    <content type="html"><![CDATA[<h3><em>How to fork a repo from <a href="http://www.github.com" target="_blank">github</a>?</em></h3>
<ol>
<li><p>Login the github and click the “Fork” button.</p>
<p>It&#39;s quite simple, just clicks a button.</p>
</li>
<li><p>Clone your fork</p>
<p>Make sure it&#39;s your fork. For example, I had forked the project <a href="https://github.com/nburrus/rgbdemo" target="_blank">nburrus/rgbdemo</a>,and now my own fork is <a href="https://github.com/leezhm/rgbdemo" target="_blank">leezhm/rgbdemo</a>.So you can clone your fork.</p>
<pre><code><span class="comment"># Clone your fork</span>
<span class="variable">$ </span>git clone <span class="symbol">https:</span>/<span class="regexp">/github.com/leezhm</span><span class="regexp">/rgbdemo.git</code></pre>
</li>
<li><p>Configurate remotes</p>
<p>If you want to sync your fork with its origin master repo,you should add another remote called <strong>upstream</strong></p>
<pre><code># Change the active directory
$ cd rgbdemo

# Add the upstream url    
$ git remote add upstream https://github.com/nburrus/rgbdemo.git

# Keeping <span class="operator"><span class="keyword">update</span> <span class="keyword">with</span> the upstream <span class="keyword">and</span> merges <span class="keyword">any</span> changes fetched <span class="keyword">into</span> your working files
$ git <span class="keyword">fetch</span> upstream
$ git merge upstream/master</code></pre>
</li>
<li><p>Nowadays,you can push/pull your own code to your fork, and sync with origin repo.</p>
</li>
</ol>
]]></content>
    <category scheme="http://code4fun.cn/tags/文章Git/" term="文章Git"/>
  </entry>
  <entry>
    <title type="html"><![CDATA[Explicitly Release Resources In C#]]></title>
    <link href="http://code4fun.cn/2013-09-24/explicitly-release-resources-in-c/"/>
    <id>http://code4fun.cn/2013-09-24/explicitly-release-resources-in-c/</id>
    <published>2013-09-23T17:24:06.000Z</published>
    <updated>2013-09-28T15:00:12.000Z</updated>
    <content type="html"><![CDATA[<p>According the last blog(Here), destructor cannot be called by programmers , it is invoked automatically by GC in a uncertain time.So whether it means programmers need not care about releasing resource(or GC) in C#.</p>
<p>In general, C# do not require as much memory management as is need.This is because the .NET Framework Garbage Collector implicitly manages the allocation and release of memory for your application.However most time, a explicit and accuracy way that programmers can release memory by themselves  is necessary.For example, when your application encapsulate unmanaged resources such as a window, file, font, database connection, network connection, and so on, you will find it very useful and helpful.So how many different and explicit ways can clean up the rare and expensive external resources that using by your application?</p>
<p>Three ways provided on MSDN,for more details about them, see the following parts.</p>
<h2>Implementing a Dispose Method</h2>
<p>The IDispose Interface provide Dispose Method,it is used only for unmanaged resource. Do not implement and call it, unless application has encapsulate some unmanaged resources.For all managed resources, the Garbage Collector has a very efficient and implicit way to manage them,please never do the idle work.</p>
<p>A class’s Dispose method should release all resources that it owns and it should also clean up all resources owned by its parent class by calling the parent’s Dispose method,and then, the parent will continue to invoke its base’s Dispose method.To help ensure all resources are always released completely, a Dispose method should be called several times without throwing any exceptions.Do not forget to call SuppressFinalize function in the Dispose,it will prevents the Finalize method from being invoked if current object is on the finalization queue.For more details about Finalize method will be described in the next title, and please remember that Finalize method called by GC automatically and executing a Finalize method is  costly to performance.If a Dispose method was called for release resources,it is not necessary for the Garbage Collector to called the disposed object’s Finalize again.</p>
<p>The following example shows how to implement a Dispose method is a good pattern.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
</pre></td><td class="code"><pre>namespace CSnippets<span class="variable">.GC</span>
{
    using System;
    using System<span class="variable">.Collections</span><span class="variable">.Generic</span>;
    using System<span class="variable">.Linq</span>;
    using System<span class="variable">.Text</span>;
    using System<span class="variable">.IO</span>;

    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="id">DisposeExample</span></span>
    {
        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> TestDispose()
        {
            <span class="keyword">try</span>
            {
                string path = Environment<span class="variable">.CurrentDirectory</span> + <span class="string">"\\App.config"</span>;

                FileStream fs = File<span class="variable">.OpenRead</span>(path);

                DisposableResource dr = new DisposableResource(fs);
                
                <span class="comment">//</span>
                dr<span class="variable">.DoSomethingWithResource</span>();

                <span class="comment">//</span>
                dr<span class="variable">.Dispose</span>();
            }
            <span class="keyword">catch</span> (FileNotFoundException expt)
            {
                Console<span class="variable">.WriteLine</span>(expt<span class="variable">.Message</span>);
            }
        }
    }

    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="id">DisposableResource</span> : <span class="id">IDisposable</span></span>
    {
        <span class="keyword">private</span> Stream resource = null;
        <span class="keyword">private</span> <span class="keyword">bool</span> disposed = <span class="literal">false</span>;

        <span class="keyword">public</span> DisposableResource(Stream stream)
        {
            <span class="keyword">if</span> (null == stream)
            {
                <span class="keyword">throw</span> new ArgumentNullException(<span class="string">"stream is null ..."</span>);
            }

            <span class="keyword">if</span> (!stream<span class="variable">.CanRead</span>)
            {
                <span class="keyword">throw</span> new ArgumentException(<span class="string">"stream must be readable ..."</span>);
            }

            resource = stream;
            disposed = <span class="literal">false</span>;
        }

        <span class="keyword">public</span> <span class="keyword">void</span> DoSomethingWithResource()
        {
            <span class="keyword">if</span> (disposed)
            {
                <span class="keyword">throw</span> new ObjectDisposedException(<span class="string">"resource was disposed ..."</span>);
            }

            <span class="keyword">int</span> num = (<span class="keyword">int</span>)resource<span class="variable">.Length</span>;
            Console<span class="variable">.WriteLine</span>(<span class="string">"Number of bytes: {0}"</span>, num<span class="variable">.ToString</span>());
        }

        <span class="keyword">public</span> <span class="keyword">void</span> Dispose()
        {
            Dispose(<span class="literal">true</span>);

            <span class="comment">//  Using SuppressFinalize in case a subclass</span>
            <span class="comment">//  of this type implements a finalizer.</span>
            System<span class="variable">.GC</span><span class="variable">.SuppressFinalize</span>(<span class="keyword">this</span>);
        }

        <span class="keyword">protected</span> virtual <span class="keyword">void</span> Dispose(<span class="keyword">bool</span> disposing)
        {
            <span class="comment">// If you need thread safety, use a lock around these </span>
            <span class="comment">// operations, as well as in your methods that use the resource.</span>
            <span class="keyword">if</span> (!disposed)
            {
                <span class="keyword">if</span> (disposing)
               {
                    <span class="comment">// Release unmanaged resource</span>

                    <span class="keyword">if</span> (null != resource)
                    {
                        resource<span class="variable">.Dispose</span>();
                        Console<span class="variable">.WriteLine</span>(<span class="string">"Object disposed ..."</span>);
                    }
                }

                <span class="comment">// Release managed resource</span>

               <span class="comment">// Indicate that the instance has been disposed.</span>
                resource = null;
                disposed = <span class="literal">true</span>;
            }
        }
    }
}
</pre></td></tr></table></figure>


<p>Actually,sometimes Close method is also used to release resources such as FileStream.Close.</p>
<h2>Overriding the Finalize Method</h2>
<p>Finalize is a protected method provided by the base class Object, so implement the Finalize method in C#, you must use destructor syntax.It is the same as Dispose method, a Finalize method should release all resources its owned and its parent owned by calling its base’s Finalize method.</p>
<p>By default, the Object.Finalize method does nothing,unless override it by yourself.For example, if you want to clean up all resources before system executes the GC, you must override it in your class.and more important thing, you must ensure that a Finalize method should not throw any exceptions, because the application can not handle it and it can cause the application to terminate.</p>
<p>Example is the best documents for programmer, is it right?Please see the below code snippets.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
</pre></td><td class="code"><pre><span class="regexp">//</span> Design pattern <span class="keyword">for</span> a base class.
public <span class="class"><span class="keyword">class</span> <span class="title">Base</span>:</span> IDisposable
{
    private bool disposed = <span class="literal">false</span>;
 
    <span class="regexp">//</span>Implement IDisposable.
    public <span class="reserved">void</span> Dispose()
    {
        Dispose(<span class="literal">true</span>);
        GC.SuppressFinalize(<span class="keyword">this</span>);
    }
 
    protected virtual <span class="reserved">void</span> Dispose(bool disposing)
    {
        <span class="keyword">if</span> (!disposed)
	          {
            <span class="keyword">if</span> (disposing)
            {
                <span class="regexp">//</span> Free other state (managed objects).
            }
            <span class="regexp">//</span> Free your own state (unmanaged objects).
            <span class="regexp">//</span> Set large fields to <span class="literal">null</span>.
            disposed = <span class="literal">true</span>;
        }
    }
 
    <span class="regexp">//</span> Use C<span class="comment"># destructor syntax for finalization code.</span>
    ~Base()
    {
        <span class="regexp">//</span> Simply call Dispose(<span class="literal">false</span>).
        Dispose (<span class="literal">false</span>);
    }
}
 
<span class="regexp">//</span> Design pattern <span class="keyword">for</span> a derived class.
public <span class="class"><span class="keyword">class</span> <span class="title">Derived</span>:</span> Base
{
    private bool disposed = <span class="literal">false</span>;
 
    protected override <span class="reserved">void</span> Dispose(bool disposing)
    {
        <span class="keyword">if</span> (!disposed)
        {
            <span class="keyword">if</span> (disposing)
            {
                <span class="regexp">//</span> Release managed resources.
            }
            <span class="regexp">//</span> Release unmanaged resources.
            <span class="regexp">//</span> Set large fields to <span class="literal">null</span>.
           <span class="regexp">//</span> Call Dispose <span class="literal">on</span> your base class.
            disposed = <span class="literal">true</span>;
        }
        base.Dispose(disposing);
    }
    <span class="regexp">//</span> The derived <span class="class"><span class="keyword">class</span> <span class="title">does</span> <span class="title">not</span> <span class="title">have</span> <span class="title">a</span> <span class="title">Finalize</span> <span class="title">method</span></span>
    <span class="regexp">//</span> <span class="keyword">or</span> a Dispose method without parameters because it inherits
    <span class="regexp">//</span> them from the base class.
}
</pre></td></tr></table></figure>

<p>Aha, it looks same as the topic how to implement a Dispose method except the yellow part.Why does it need to do like that?</p>
<p>Actually, Even when you provide explicit calling Dispose method, you should invoke the Finalize method implicitly.The Finalize provide a backup to prevent resources from permanently leaking if the programmer fails to call Dispose method, even executing a Finalize method is an expensive operation.</p>
<p>So what is your opinion?Do you think it is one way and one completely way that do those two ways together to release resources?</p>
<h2>Using the using statement</h2>
<p>Using statement provide a simple and convenient syntax to ensure that a correct way is be used for a IDispose object.It can make sure that Dispose method is called even if an exception occurs.For example, for StreamWriter, the using statement automatically closes the stream and invokes Dispose method on the StreamWriter object at the end of using statement.</p>
<p>Below is a good practice that shows how to use using statement to clean up resources with Font(System.Drawing.Font) object.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="code"><pre>using (Font ft = new Font(<span class="string">"Arial"</span>, <span class="number">15.0</span>f))
{
    byte charset = ft<span class="preprocessor">.GdiCharSet</span><span class="comment">;</span>

    Console<span class="preprocessor">.WriteLine</span>(<span class="string">"Charset of Arial is {0}"</span>, charset)<span class="comment">;</span>
}

Font ft2 = new Font(<span class="string">"Arial"</span>, <span class="number">10.0</span>f)<span class="comment">;</span>
using (ft2) // not recommended
{
    // use font2
    byte charset2 = ft2<span class="preprocessor">.GdiCharSet</span><span class="comment">;</span>

    Console<span class="preprocessor">.WriteLine</span>(<span class="string">"Charset 2 of Arial is {0}"</span>, charset2)<span class="comment">;</span>
}

// font2 is still <span class="keyword">in</span> scope
// but the method <span class="keyword">call</span> throws an exception
float f = ft2<span class="preprocessor">.GetHeight</span>()<span class="comment">;</span>
</pre></td></tr></table></figure>

<p>Of course, it is a much more complex topic of Garbage Collection in C# and there is several times contents about GC on MSDN than here.More details and comprehensive contents about Garbage Collection,see this webpage.have fun!</p>
]]></content>
    <category scheme="http://code4fun.cn/tags/文章, Dispose/" term="文章, Dispose"/>
  </entry>
  <entry>
    <title type="html"><![CDATA[How to resign a iOS app ?]]></title>
    <link href="http://code4fun.cn/2013-09-19/How_to_resign_a_iOS_app/"/>
    <id>http://code4fun.cn/2013-09-19/How_to_resign_a_iOS_app/</id>
    <published>2013-09-19T15:35:28.000Z</published>
    <updated>2013-09-23T16:43:19.000Z</updated>
    <content type="html"><![CDATA[<p>As may we know, we can distribute apps with enterprise account to any devices without add the device id into device list. This is very useful when the developers are not in the same offices or a multi-people project. So how to do that?</p>
<h2><strong>Generate Production/Distribution Certificates</strong></h2>
<ol>
<li><p>login the iOS dev center with your enterprise account, and click “Certificates, Identifiers &amp; Profiles”.</p>
</li>
<li><p>Enter “Certificates” page and and select “Production”.</p>
</li>
<li><p>Create a production(or distribution) certificate.(Add button on the top right of panel). Following creating instructions one  by one. During this step, you should note you have to generate a Certificate Signing Request from Keychain Access and them uploading it.(Here you can learn how to obtain a CSR <a href="http://stackoverflow.com/questions/12126496/how-to-obtain-certificate-signing-request" target="_blank">how to obtain CSR</a></p>
</li>
<li><p>Ok, you can download the the certificates if the third step successes.</p>
</li>
<li><p>Double click the certificate, and then you can find this certificate in Keychain Access.</p>
</li>
</ol>
<h2><strong>Generate Distribution Provision Profile</strong></h2>
<ol>
<li><p>Changed to the “Provisioning Profiles” item and click “Distribution”.</p>
</li>
<li><p>Select and Click “Add” button on the top right of panel.</p>
</li>
<li><p>Following instructions one by one, “In-House” Provision Profiles and right “Production/Distribution Certificate” that you create before.</p>
</li>
<li><p>Success, and download it.</p>
</li>
<li><p>Double click to add it to x-code.</p>
</li>
</ol>
<p>OK, you have finish the preparation. and next you can resign the iOS app.</p>
<h2><strong>Resign iOS App</strong></h2>
<p>Before execute the following commands in your Terminal tool one by one., please make the <em>.ipa file, </em>.mobileprovision file in the same folder. for example, put all file in &quot;~/Downloads&quot; folder.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="comment">rm</span> <span class="literal">-</span><span class="comment">rf</span> <span class="comment">Payload</span>
<span class="comment">unzip</span> <span class="comment">YourApp</span>.<span class="comment">ipa</span>
<span class="comment">rm</span> <span class="literal">-</span><span class="comment">r</span> <span class="comment">Payload/YourApp</span>.<span class="comment">app/_CodeSignature</span> <span class="comment">Payload/YourApp</span>.<span class="comment">app/CodeResources</span>
<span class="comment">cp</span> <span class="comment">~/Downloads/YourApp</span>.<span class="comment">mobileprovision</span> <span class="comment">Payload/YourApp</span>.<span class="comment">app/embedded</span>.<span class="comment">mobileprovision</span>
<span class="comment">codesign</span> <span class="literal">-</span><span class="comment">f</span> <span class="literal">-</span><span class="comment">s</span> <span class="comment">"iPhone</span> <span class="comment">Distribution:</span> <span class="comment">xxxx"</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">resource</span>-<span class="comment">rules</span> <span class="comment">"Payload/YourApp</span>.<span class="comment">app/ResourceRules</span>.<span class="comment">plist"</span> <span class="comment">Payload/YourApp</span>.<span class="comment">app</span>
<span class="comment">zip</span> <span class="literal">-</span><span class="comment">qr</span> <span class="comment">"YourApp</span>.<span class="comment">resigned</span>.<span class="comment">ipa"</span> <span class="comment">Payload</span>
<span class="comment">rm</span> <span class="literal">-</span><span class="comment">rf</span> <span class="comment">Payload
</pre></td></tr></table></figure>

<p>If there is not any error, you are successful. Please install the app to you iOS device and test it.</p>
]]></content>
    <category scheme="http://code4fun.cn/tags/文章, iOS/" term="文章, iOS"/>
  </entry>
  <entry>
    <title type="html"><![CDATA[艳阳中秋，呆家里折腾新Blog]]></title>
    <link href="http://code4fun.cn/2013-09-19/艳阳中秋，呆家里折腾新blog/"/>
    <id>http://code4fun.cn/2013-09-19/艳阳中秋，呆家里折腾新blog/</id>
    <published>2013-09-19T09:10:28.000Z</published>
    <updated>2013-09-28T15:01:36.000Z</updated>
    <content type="html"><![CDATA[<ul>
<li><strong><em>闲扯由来</em></strong></li>
</ul>
<p>之前基于<a href="http://wordpress.org/" target="_blank">wordpress</a>的blog在VPS到期后，就不想续费折腾了。在这里还是要感谢这个伟大的开源项目，你带给我了许多方便。</p>
<p>其实我觉得我是个很懒的完美主义者，话有点不顺口，细想也不通的，但是我就是这么认为的。每每总结留在硬盘上的一篇篇未写完的blog，理由就是排版这么烂，发上去也需要再排，而且还复杂，不好看。故因为不完美，所以放弃了。曾经有一段时间我就去折腾CSS，但很快发现也没那么容易折腾，花了时间还来不了效果。</p>
<p>一切都在我接触到<a href="http://wowubuntu.com/markdown/" target="_blank">markdown</a>之后改变，简洁的语法，更多的时间可以focus到内容上。但是wordpress对于markdown支持的并不好，所以就一直寻找一个直接支持markdown语法的blog framework。</p>
<p>在经过多次的测试和咨询之后，答案就是 <a href="https://github.com" target="_blank">Github</a> + <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a>。由来废话说完，就应该进入主题了—折腾不止，生命不息</p>
<ul>
<li><p><strong><em>切入正题</em></strong></p>
<ul>
<li>Github<br>  绝大部分程序猿肯定都知道<a href="https://github.com" target="_blank">Github</a>，也应该拥有自己的账号。如果没有，你现在就应该去创建一个，而且后面也需要用到这个。通过Github，我们可以很方便地分享我们的项目，进行代码管理,重构，与他人协作完成一个项目（当然如果你需要创建私人项目，你需要付费）。<br>  但是在这里，需要用Github提供的<a href="http://pages.github.com/" target="_blank">Github Pages</a>来做我新Blog的服务器。<pre><code>  1. Github Pages完全免费，无流量和空间限制，无需翻墙，墙内墙外访问速度还不错。
  2. 支持Markdown语法来发布文章
  3. 可以很方便地用git来add, <span class="operator"><span class="keyword">commit</span>和push我的文章。
  <span class="number">4.</span> 对blog拥有完全的控制权。</code></pre>
</li>
<li><p>Hexo<br>  其实<a href="http://zespia.tw/hexo/" target="_blank">Hexo</a>对于我也是蛮陌生的。那为啥选择Hexo，而不选择更成熟，更多人使用的<a href="http://octopress.org/" target="_blank">Octopress</a>呢？因为我学过一段时间的<a href="http://nodejs.org/" target="_blank">Node.js</a>,更喜欢Node.js的速度，绝对比基于Ruby的Octopress快。</p>
<blockquote>
<p>Hexo is a fast, simple and powerful blog framework. It parses your posts with           Markdown or other render engine and generates static files with the beautiful theme.           All of these just take seconds.</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong><em>安装搭建</em></strong></p>
<ol>
<li><a href="http://code.google.com/p/git-osx-installer/" target="_blank">Git</a>，下载安装git for mac，完成后查看版本信息 <figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="comment">git</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">version
</pre></td></tr></table></figure></li>
<li><p><a href="http://nodejs.org/" target="_blank">Node.js</a>，可以去官网下载pkg文件安装，但是这里我选择通过nvm安装。</p>
 <figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>// 安装nvm
curl https://raw<span class="preprocessor">.github</span><span class="preprocessor">.com</span>/creationix/nvm/master/install<span class="preprocessor">.sh</span> | sh

// 然后安装Node<span class="preprocessor">.js</span>
nvm install <span class="number">0.10</span><span class="number">.18</span>
</pre></td></tr></table></figure>
</li>
<li><p>通过npm安装Hexo(注意这里是npm，不是nvm)</p>
 <figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="title">npm</span> install -g hexo
</pre></td></tr></table></figure><br> 或者升级<br> <figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>npm <span class="operator"><span class="keyword">update</span> hexo -g
</pre></td></tr></table></figure></li>
<li><p>安装完成后，就可以初始化hexo，<br> <figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="comment">// 在这里，你需要确保你的目录正确</span>
hexo init ~<span class="regexp">/Developments/</span>Code4fun/Hexo
</pre></td></tr></table></figure><br>在指定目录生成了如下结构的文件</p>
<pre><code>    .
 ├── _config<span class="variable">.yml</span>   <span class="comment">// 站点配置文件，包含很多站点配置选项，比如域名</span>
 ├── package<span class="variable">.json</span>  <span class="comment">// 应用程序数据，比如程序名字，版本号等</span>
 ├── scaffolds     <span class="comment">// 存储要发布的post的基本文件</span>
 ├── scripts       <span class="comment">// js文件，保存一个hexo的js扩展文件</span>
 ├── source        <span class="comment">// 保存文章内容</span>
 |   ├── _drafts   ---<span class="comment">// 草稿文件</span>
 |   └── _posts    ---<span class="comment">// 发布的文章</span>
 └── themes        <span class="comment">// 主题文件夹</span></code></pre>
</li>
</ol>
</li>
</ul>
<ul>
<li><p><strong><em>配置站点</em></strong></p>
<ol>
<li><p>配置 _config.yml</p>
<pre><code> # <span class="class">Site</span>
 <span class="method">title:</span> <span class="class">Code</span> <span class="class">For</span> <span class="class">Fun</span>
 <span class="method">subtitle:</span> <span class="class">I</span> <span class="class">Share</span>, therefore <span class="class">I</span> am
 <span class="method">description:</span> <span class="class">A</span> iOS developer’s personal blog.
 <span class="method">author:</span> <span class="class">Jerry</span> li
 <span class="method">email:</span> leezhm(at)<span class="number">126.</span>com
 <span class="method">language:</span> zh-<span class="class">CN</span>

 # <span class="class">URL</span>
 ## <span class="class">If</span> your site is put in a subdirectory, set url as <span class="string">'http://yoursite.com/child'</span> and root as <span class="string">'/child/'</span>
 <span class="method">url:</span> <span class="method">http:</span>//code4fun.cn
 <span class="method">root:</span> /
 <span class="method">permalink:</span> :year-:month-:day/:title/</code></pre>
</li>
<li><p>本地测试</p>
<p> <figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre><span class="comment">// 生成文章</span>
hexo generate 
	
<span class="comment">// 运行默认的server</span>
hexo <span class="keyword">server</span>
<span class="comment">//[info] Hexo is running at localhost:4000/. Press Ctrl+C to stop.</span>
</pre></td></tr></table></figure><br> 然后在你的浏览器中输入网址<a href="http://localhost:4000" target="_blank">localhost:4000</a>，测试。看是否可以看到默认页面。<br> 测试成功后，我们就需要把它送到Github Pages服务器上。</p>
</li>
</ol>
</li>
</ul>
<ul>
<li><p><strong><em>Github Pages</em></strong></p>
<ol>
<li>如果没有Github账号，请创建一个账号，然后创建一个Repository。<ul>
<li>创建一个blog网站<br>  如果为一个blog创建网站，Github Pages有特殊的规定，这个repository的名字格式必须是<br>  <strong><em>你的Github账户名.github.com(比如我的就是 leezhm.github.com)</em></strong><br>  否则Github无法提供解析。</li>
<li>为一个Project创建Page<br>  在这里，需要特别注意的是，Github Pages规定这个repo的branch必须是gh-pages，否则不能正确解析页面。至于怎么在Github上创建branch，并设置default branch，请查询Github Help。<br>补充创建和删除branch<a href="https://help.github.com/articles/creating-and-deleting-branches-within-your-repository" target="_blank">Github - Create/Delete branch</a>，以及<a href="https://help.github.com/articles/setting-the-default-branch" target="_blank">Github - Set default branch</a>网址。<br><strong><em>在这里我选择的是创建一个blog网站</em></strong></li>
</ul>
</li>
<li><p>配置_config.yml中的deploy</p>
<pre><code> <span class="preprocessor"># Deployment</span>
 <span class="preprocessor">## Docs: http://zespia.tw/hexo/docs/deploy.html</span>
 deploy:
       type: github
       repository: https://github<span class="preprocessor">.com</span>/leezhm/leezhm<span class="preprocessor">.github</span><span class="preprocessor">.com</span><span class="preprocessor">.git</span></code></pre>
<p>   在这里，需要注意不要写错地址，最好用https。另外branch应该是根据创建的类型不同，做更更改的。</p>
</li>
<li><p>生成并发布你网站</p>
 <figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>    	<span class="comment">// 从markdown文件，生成静态html文件</span>
    	hexo generate
    	
    	<span class="comment">// 发布到Github对应的Repository中</span>
    	hexo deploy
</pre></td></tr></table></figure>

<p>到此应该大功告成，等待大约10分钟之后，你就应该可以使用 <a href="http://你的github账号名.github.io" target="_blank">http://你的github账号名.github.io</a> 来访问你的网站。</p>
</li>
</ol>
</li>
<li><p><strong><em>补充</em></strong></p>
<p>  如果你需要配置自己域名，请参考<a href="http://zespia.tw/hexo/docs/deployment.html" target="_blank">Hexo Custom Domain</a>以及<a href="https://help.github.com/articles/setting-up-a-custom-domain-with-pages" target="_blank">Setting up a custom domain with Pages</a>。</p>
</li>
</ul>
]]></content>
    <category scheme="http://code4fun.cn/tags/文章，Github Pages，Hexo/" term="文章，Github Pages，Hexo"/>
  </entry>
</feed>
